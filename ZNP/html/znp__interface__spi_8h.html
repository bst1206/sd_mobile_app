<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Zigbee Network Processor Library: znp_interface_spi.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>znp_interface_spi.h File Reference</h1>
<p>public methods for <a class="el" href="znp__interface__spi_8c.html" title="Interface to the Zigbee Network Processor (e.g. CC2530ZNP) over the Serial Peripheral...">znp_interface_spi.c</a>  
<a href="#_details">More...</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a65bae7b589ebcfdabbda59801909075b"></a><!-- doxytag: member="znp_interface_spi.h::SRSP_BUFFER_SIZE" ref="a65bae7b589ebcfdabbda59801909075b" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SRSP_BUFFER_SIZE</b>&nbsp;&nbsp;&nbsp;20</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a59ce79a1fcfdd16ebe10a7265bb28518"></a><!-- doxytag: member="znp_interface_spi.h::SRSP_HEADER_SIZE" ref="a59ce79a1fcfdd16ebe10a7265bb28518" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SRSP_HEADER_SIZE</b>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8215b1cef74f2f248589f11d67de1745"></a><!-- doxytag: member="znp_interface_spi.h::SRSP_PAYLOAD_START" ref="a8215b1cef74f2f248589f11d67de1745" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SRSP_PAYLOAD_START</b>&nbsp;&nbsp;&nbsp;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a213d3e742c6542015fc7b522c69cfb04"></a><!-- doxytag: member="znp_interface_spi.h::SRSP_LENGTH_FIELD" ref="a213d3e742c6542015fc7b522c69cfb04" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SRSP_LENGTH_FIELD</b>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abcfdb5e609293892478dded6e8f5cb32"></a><!-- doxytag: member="znp_interface_spi.h::SRSP_CMD_LSB_FIELD" ref="abcfdb5e609293892478dded6e8f5cb32" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SRSP_CMD_LSB_FIELD</b>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9b2b0dc7b5870416636d9a812c1ab637"></a><!-- doxytag: member="znp_interface_spi.h::SRSP_CMD_MSB_FIELD" ref="a9b2b0dc7b5870416636d9a812c1ab637" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SRSP_CMD_MSB_FIELD</b>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">signed int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface__spi_8h.html#a95eb4d68729b1c13e4024d276b016e88">sendMessage</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">signed int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface__spi_8h.html#a4d98839bb3d17af97a619df7b1208914">sendSreq</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">signed int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="znp__interface__spi_8h.html#a249be59b8fbf487ecaa040b1ed4f8129">spiPoll</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>public methods for <a class="el" href="znp__interface__spi_8c.html" title="Interface to the Zigbee Network Processor (e.g. CC2530ZNP) over the Serial Peripheral...">znp_interface_spi.c</a> </p>
<dl class="rcs"><dt><b>Rev</b></dt><dd>619 </dd></dl>
<dl class="rcs"><dt><b>Author</b></dt><dd>dsmith </dd></dl>
<dl class="rcs"><dt><b>Date</b></dt><dd>2010-07-02 10:54:13 -0700 (Fri, 02 Jul 2010) </dd></dl>
<p>YOU ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE, NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT, NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a95eb4d68729b1c13e4024d276b016e88"></a><!-- doxytag: member="znp_interface_spi.h::sendMessage" ref="a95eb4d68729b1c13e4024d276b016e88" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">signed int sendMessage </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Public method to send messages to the ZNP. This will send one message and then receive the Synchronous Response (SRSP) message from the ZNP to indicate the command was received. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>znpBuf contains a properly formatted message </dd>
<dd>
ZNP has been initialized </dd></dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>buffer znpBuf contains the response (if any) from the ZNP. </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if the SRSP received was the expected SRSP, -11 if it was NOT the expected SRSP, -12 if sendSreq timeout, or -13 if too many bytes received. </dd></dl>

</div>
</div>
<a class="anchor" id="a4d98839bb3d17af97a619df7b1208914"></a><!-- doxytag: member="znp_interface_spi.h::sendSreq" ref="a4d98839bb3d17af97a619df7b1208914" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">signed int sendSreq </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sends a CC2530ZNP Synchronous Request (SREQ) message and retrieves the response. A SREQ is a message to the ZNP that is immediately followed by a Synchronous Response (SRSP) message from the ZNP. As opposed to an Asynchronous Request (AREQ) message, which does not have a SRSP. This is a private method that gets wrapped by <a class="el" href="znp__interface__spi_8c.html#a95eb4d68729b1c13e4024d276b016e88">sendMessage()</a>. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>CC2530ZNP has been initialized </dd>
<dd>
znpBuf contains a properly formatted message </dd></dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>received data is written to znpBuf </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if success, -1 if timeout waiting for SRDY to go low after chip select; -2 if timeout waiting for SRSP. : timeout on SRDY_IS_HIGH() and SRDY_IS_LOW(), or separate this method and return control to the application </dd></dl>

</div>
</div>
<a class="anchor" id="a249be59b8fbf487ecaa040b1ed4f8129"></a><!-- doxytag: member="znp_interface_spi.h::spiPoll" ref="a249be59b8fbf487ecaa040b1ed4f8129" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">signed int spiPoll </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Polls the ZNP for data. This is used to receive data from the ZNP, for example when a message has arrived. This will be initiated by detecting SRDY going low. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>CC2530ZNP has been initialized. </dd>
<dd>
SRDY has gone low </dd>
<dd>
CC2530ZNP has been initialized </dd></dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>received data is written to znpBuf </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>result of <a class="el" href="znp__interface__spi_8c.html#a4d98839bb3d17af97a619df7b1208914">sendSreq()</a> </dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>this method not required to be implemented when using UART interface. </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Aug 19 11:47:25 2010 for Zigbee Network Processor Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
