<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CC2530ZNP Examples: example_accelerometer_interrupt.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>example_accelerometer_interrupt.c File Reference</h1>
<p>Configures accelerometer to generate an interrupt when motion is detected.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="example__accelerometer__interrupt_8c.html">../HAL/hal_cc2530znp_target_board.h</a>&quot;</code><br/>
<code>#include &quot;msp430x22x4.h&quot;</code><br/>
<code>#include &lt;stdarg.h&gt;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><p><a class="anchor" id="amgrpd41d8cd98f00b204e9800998ecf8427e"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="example__accelerometer__interrupt_8c.html#a5a2a60dd6e60be649eb41d656a73cb94">accelerometerIsr</a> )(void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="example__accelerometer__interrupt_8c.html#a2534ec6512959977408fd5579044d978">handleAccelerometer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a840291bc02cba5474a4cb46a9b9566fe"></a><!-- doxytag: member="example_accelerometer_interrupt.c::main" ref="a840291bc02cba5474a4cb46a9b9566fe" args="(void)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>main</b> (void)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Configures accelerometer to generate an interrupt when motion is detected. </p>
<p>Configures accelerometer to be in motion detect mode with default threshold &amp; time settings to interrupt the MSP430 upon detection of motion. Displays the cause of the motion interrupt (X-axis, Y-axis, or Z-axis). Uses the Hardware Abstraction Layer (hal) to access the accelerometer. Configures Accelerometer with the following settings:</p>
<ul>
<li>Range = 2g</li>
<li>Disable I2C</li>
<li>Motion Detection Mode</li>
<li>Stay in motion detection mode after interrupt.</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>to clear accelerometer interrupt, must read the Interrupt Status register. </dd>
<dd>
to change the motion detection threshold, modify register ACCEL_MDTHR. </dd>
<dd>
to change the motion time threshold, modify register ACCEL_MDFFTMR</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>VTI Technologies document: CMA3000-D01 datasheet </dd>
<dd>
VTI Technologies document: Product Family Specification, CMA3000-D0X Series 3-axis accelerometer </dd>
<dd>
VTI Technologies document: Interfacing CMA3000-D01 to an MSP430 ultra low-power microcontroller</dd>
<dd>
<a href="http://processors.wiki.ti.com/index.php/Tutorial_on_the_Examples">http://processors.wiki.ti.com/index.php/Tutorial_on_the_Examples</a> and <a href="http://e2e.ti.com/support/low_power_rf/default.aspx">http://e2e.ti.com/support/low_power_rf/default.aspx</a></dd></dl>
<dl class="rcs"><dt><b>Rev</b></dt><dd>719 </dd></dl>
<dl class="rcs"><dt><b>Author</b></dt><dd>dsmith </dd></dl>
<dl class="rcs"><dt><b>Date</b></dt><dd>2010-08-19 10:52:09 -0700 (Thu, 19 Aug 2010) </dd></dl>
<p>YOU ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE, NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT, NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a2534ec6512959977408fd5579044d978"></a><!-- doxytag: member="example_accelerometer_interrupt.c::handleAccelerometer" ref="a2534ec6512959977408fd5579044d978" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handleAccelerometer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Our Interrupt Service Routine (ISR) for Accelerometer Interrupt</p>
<p>Accelerometer interrupt service routine. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>application must ensure that other operations are not accessing the accelerometer when interrupt fires. (Disable accelerometer interrupt during other communications with accelerometer, or even better, set a flag in the ISR that gets polled by your main application) </dd></dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>accelerometerIsr function pointer points here; e.g. <code>accelerometerIsr = </code> </dd>
<dd>
global interrupts enabled </dd>
<dd>
accelerometer interrupt enabled; e.g. <code>halEnableAccelerometerInterrupt(NO_WAKEUP);</code> </dd></dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>interrupt is cleared</dd></dl>
<p>Handles Accelerometer interrupt </p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a5a2a60dd6e60be649eb41d656a73cb94"></a><!-- doxytag: member="example_accelerometer_interrupt.c::accelerometerIsr" ref="a5a2a60dd6e60be649eb41d656a73cb94" args=")(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="example__accelerometer__interrupt_8c.html#a5a2a60dd6e60be649eb41d656a73cb94">accelerometerIsr</a>)(void)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function pointer points to the function that will be called upon Accelerator Interrupt </p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Aug 19 11:48:40 2010 for CC2530ZNP Examples by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
